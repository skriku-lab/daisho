<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Day4 現在管理アプリ（保存＋メール送信）</title>
    <!-- CSS ファイルを読み込む -->
     <link rel="stylesheet" href="assets/css/inventory.css">
</head>
<body>
  <main class="container">
    <h1 class="title">文化祭 在庫管理アプリ（Day4）</h1>
    <p class="muted">
        JSONで管理している在庫データをブラウザに保存し、StaticForms を使って在庫一覧をメール送信するアプリです。</p>

    <!-- 在庫一覧テーブル -->
    <section class="panel">
    <h2 class="panel-title">在庫一覧</h2>
    <table class="inventory-table">
        <thead>
            <tr>
                <th>商品ID</th>
                <th>商品名</th>
                <th>価格（税込）</th>
                <th>在庫数</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody id="item-list">
            <!-- JavaScript から自動で行（tr）が追加されます -->
        </tbody>
    </table>
    <p class="hint">
        在庫数が<code>minStock</code>より少ない商品は行の背景が変わります。
    </p>
    </section>

    <!-- 操作ボタン -->
     <section class="actions">
        <button id="save-btn" class="btn">在庫を保存する</button>
        <button id="mail-btn" class="btn btn-ghost">在庫一覧をメールで送る</button>
     </section>

     <!-- 在庫メール送信用の隠しフォーム -->
     <form
       id="inventory-mail-form"
       action="https://api.staticforms.dev/submit"
       method="POST"
       style="display:none;"
    >
       <!-- ★自分の StaticForms の APIキーを設定する（授業後は削除/無効化） --> 
       <input type="hidden" name="apiKey" value="sf_ikennm6de89i0d9d0i6l5c9e"/>

       <!-- メール件名 -->
       <input type="hidden" name="subject" value="文化祭 在庫一覧レポート"/>

       <!-- 送信後に移動するURL（必要に応じて変更） -->
       <input
         type="hidden"
         name="redirectTo"
         value="https://skriku-lab.github.io/daisho/daisho-day4/"
     />

    <!-- メール本文（在庫一覧テキスト） -->
     <textarea id="inventory-message" name="message"></textarea>
    </form>
  </main>

    <!-- JavaScript ファイルを一番最後に読み込む -->
    <script src="assets/js/inventory.js"></script>
</body>
</html>